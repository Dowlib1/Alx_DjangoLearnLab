
{% extends 'blog/base.html' %}
{% block content %}
<h2>Blog Posts</h2>
{% for post in posts %}
    <h3><a href="{% url 'post_form' post.pk %}">{{ form.as_p }}</a></h3>
    <p>{{ post.content|truncatewords:50 }}</p>
{% endfor %}
{% endblock %}



<!-- To show comments -->
<h3>Comments</h3>
{% for comment in comments %}
    <p>{{ comment.author }}: {{ comment.content }} ({{ comment.created_at }})</p>
    {% if user == comment.author %}
        <a href="{% url 'comment_edit' comment.pk %}">Edit</a>
        <a href="{% url 'comment_delete' comment.pk %}">Delete</a>
    {% endif %}
{% endfor %}
{% if user.is_authenticated %}
    <form method="post">
        {% csrf_token %}
        {{ comment_form.as_p }}
        <button type="submit">Add Comment</button>
    </form>
{% endif %}

{% for tag in post.tags.all %}
    <a href="{% url 'tag_posts' tag.name %}">{{ tag.name }}</a>
{% endfor %}
